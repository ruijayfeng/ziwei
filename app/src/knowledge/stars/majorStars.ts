/* ============================================================
   十四主星知识库
   来源：02-星曜体系/01-十四主星.md
   ============================================================ */

export interface StarInfo {
  name: string
  group: '紫微星系' | '天府星系'
  wuxing: string
  yinyang: string
  traits: string[]
  keywords: string[]
  description: string
  palaceEffects: Record<string, string>
}

export const MAJOR_STARS: Record<string, StarInfo> = {
  '紫微': {
    name: '紫微',
    group: '紫微星系',
    wuxing: '己土',
    yinyang: '阴',
    traits: ['帝王星', '尊贵', '领导力', '自尊心强'],
    keywords: ['权力', '地位', '尊严', '统御'],
    description: '紫微为帝王星，代表尊贵、领导力与权威。入命者气质高贵，有统御能力，但也可能自视甚高。需吉星辅佐方能发挥。',
    palaceEffects: {
      '命宫': '气质高贵，有领导才能，但需吉星辅佐',
      '官禄宫': '适合从政或管理工作，有权威',
      '财帛宫': '财运稳定，善于理财规划',
    },
  },
  '天机': {
    name: '天机',
    group: '紫微星系',
    wuxing: '乙木',
    yinyang: '阴',
    traits: ['智慧星', '善变', '机智', '谋略'],
    keywords: ['智慧', '策划', '变动', '思虑'],
    description: '天机为智慧之星，代表聪明、善变与谋略。入命者思维敏捷，善于策划，但心思细腻，有时多虑。',
    palaceEffects: {
      '命宫': '聪明机智，思维活跃，善于策划',
      '官禄宫': '适合企划、顾问类工作',
      '迁移宫': '出外运佳，善于应变',
    },
  },
  '太阳': {
    name: '太阳',
    group: '紫微星系',
    wuxing: '丙火',
    yinyang: '阳',
    traits: ['光明星', '博爱', '热情', '父星/男性'],
    keywords: ['光明', '博爱', '名声', '贵人'],
    description: '太阳为光明之星，代表博爱、热情与名声。入命者性格开朗，乐于助人，但日生人较夜生人吉。',
    palaceEffects: {
      '命宫': '性格开朗，热心助人，有贵人缘',
      '官禄宫': '适合公职、教育、传媒类工作',
      '父母宫': '与父亲关系好，或父亲有地位',
    },
  },
  '武曲': {
    name: '武曲',
    group: '紫微星系',
    wuxing: '辛金',
    yinyang: '阴',
    traits: ['财星', '刚毅', '果断', '孤克'],
    keywords: ['财富', '决断', '刚强', '武职'],
    description: '武曲为财星，代表财富与刚毅。入命者性格刚强果断，善于理财，但略显孤傲，宜见吉化解。',
    palaceEffects: {
      '命宫': '性格刚毅果断，有经商才能',
      '财帛宫': '财运佳，善于投资理财',
      '官禄宫': '适合金融、军警、技术类工作',
    },
  },
  '天同': {
    name: '天同',
    group: '紫微星系',
    wuxing: '壬水',
    yinyang: '阳',
    traits: ['福星', '温和', '享乐', '懒散'],
    keywords: ['福气', '安逸', '人缘', '享受'],
    description: '天同为福星，代表福气与享乐。入命者性情温和，人缘好，但容易安于现状，需激励方能进取。',
    palaceEffects: {
      '命宫': '性情温和，人缘佳，生活安逸',
      '福德宫': '精神愉悦，懂得享受生活',
      '夫妻宫': '感情和睦，配偶温柔',
    },
  },
  '廉贞': {
    name: '廉贞',
    group: '紫微星系',
    wuxing: '丁火',
    yinyang: '阴',
    traits: ['囚星/次桃花', '复杂', '政治', '感情'],
    keywords: ['政治', '法律', '感情', '是非'],
    description: '廉贞性质复杂，既是囚星也带桃花。入命者聪明有才干，但感情丰富，容易卷入是非。',
    palaceEffects: {
      '命宫': '聪明能干，但感情复杂需注意',
      '官禄宫': '适合政法、公关、艺术类工作',
      '夫妻宫': '感情多波折，需慎选对象',
    },
  },
  '天府': {
    name: '天府',
    group: '天府星系',
    wuxing: '戊土',
    yinyang: '阳',
    traits: ['财库星', '稳重', '保守', '包容'],
    keywords: ['财库', '稳定', '保守', '厚重'],
    description: '天府为财库之星，代表稳重与包容。入命者性格稳重，善于守成，财运稳定但保守。',
    palaceEffects: {
      '命宫': '性格稳重，善于守成，有财库',
      '财帛宫': '财运稳定，善于积蓄',
      '田宅宫': '房产运佳，有祖产继承',
    },
  },
  '太阴': {
    name: '太阴',
    group: '天府星系',
    wuxing: '癸水',
    yinyang: '阴',
    traits: ['财星/田宅星', '温柔', '母星/女性', '内敛'],
    keywords: ['财富', '房产', '女性', '阴柔'],
    description: '太阴为财星兼田宅星，代表财富与女性。入命者性格温柔内敛，夜生人较日生人吉。',
    palaceEffects: {
      '命宫': '性格温柔，有艺术气质',
      '财帛宫': '财运佳，尤利不动产',
      '田宅宫': '房产运极佳',
    },
  },
  '贪狼': {
    name: '贪狼',
    group: '天府星系',
    wuxing: '甲木',
    yinyang: '阳',
    traits: ['桃花星', '欲望', '才艺', '多才多艺'],
    keywords: ['桃花', '欲望', '才华', '交际'],
    description: '贪狼为桃花星，代表欲望与才艺。入命者多才多艺，交际能力强，但欲望也重。',
    palaceEffects: {
      '命宫': '多才多艺，人缘佳，但欲望强',
      '夫妻宫': '感情丰富，桃花运旺',
      '官禄宫': '适合演艺、公关、业务类工作',
    },
  },
  '巨门': {
    name: '巨门',
    group: '天府星系',
    wuxing: '癸水',
    yinyang: '阴',
    traits: ['暗星', '口才', '是非', '研究'],
    keywords: ['口舌', '是非', '研究', '怀疑'],
    description: '巨门为暗星，代表口舌与是非。入命者口才好，善于研究，但容易卷入是非，需注意言语。',
    palaceEffects: {
      '命宫': '口才佳，善研究，但易招是非',
      '官禄宫': '适合律师、教师、研究类工作',
      '疾厄宫': '注意口腔、肠胃问题',
    },
  },
  '天相': {
    name: '天相',
    group: '天府星系',
    wuxing: '壬水',
    yinyang: '阳',
    traits: ['印星', '辅佐', '正直', '依附'],
    keywords: ['印信', '辅佐', '正直', '贵人'],
    description: '天相为印星，代表辅佐与正直。入命者性格正直，善于辅佐他人，有贵人运。',
    palaceEffects: {
      '命宫': '性格正直，有辅佐才能',
      '官禄宫': '适合幕僚、秘书、行政类工作',
      '父母宫': '与长辈关系好，有贵人',
    },
  },
  '天梁': {
    name: '天梁',
    group: '天府星系',
    wuxing: '戊土',
    yinyang: '阳',
    traits: ['荫星', '化解', '长辈', '清高'],
    keywords: ['化解', '长寿', '清高', '荫庇'],
    description: '天梁为荫星，代表化解与长寿。入命者性格清高，有化解灾厄的能力，宜从事服务业。',
    palaceEffects: {
      '命宫': '性格清高，有化解能力',
      '官禄宫': '适合医疗、法律、公益类工作',
      '疾厄宫': '身体较健康，逢凶化吉',
    },
  },
  '七杀': {
    name: '七杀',
    group: '天府星系',
    wuxing: '庚金',
    yinyang: '阳',
    traits: ['将星', '冲劲', '孤独', '开创'],
    keywords: ['冲劲', '开创', '孤独', '变动'],
    description: '七杀为将星，代表冲劲与开创。入命者性格刚烈，有开创能力，但人生多变动。',
    palaceEffects: {
      '命宫': '性格刚烈，有开创力，人生多变',
      '官禄宫': '适合创业、军警、开拓类工作',
      '迁移宫': '出外运佳，适合在外发展',
    },
  },
  '破军': {
    name: '破军',
    group: '天府星系',
    wuxing: '癸水',
    yinyang: '阴',
    traits: ['耗星', '破坏', '变革', '不安定'],
    keywords: ['破坏', '变革', '消耗', '改变'],
    description: '破军为耗星，代表破坏与变革。入命者勇于改变，不安于现状，但容易破中求立。',
    palaceEffects: {
      '命宫': '勇于改变，不安现状，波动大',
      '官禄宫': '适合开创、革新、技术类工作',
      '财帛宫': '财来财去，不善守财',
    },
  },
}

/* ------------------------------------------------------------
   根据星曜名称获取信息
   ------------------------------------------------------------ */

export function getStarInfo(starName: string): StarInfo | undefined {
  // 移除可能的四化后缀
  const cleanName = starName.replace(/化[禄权科忌]/, '')
  return MAJOR_STARS[cleanName]
}

/* ------------------------------------------------------------
   获取星曜列表
   ------------------------------------------------------------ */

export function getAllStars(): StarInfo[] {
  return Object.values(MAJOR_STARS)
}
